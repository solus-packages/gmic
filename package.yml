name       : gmic
version    : 2.2.2
release    : 2
source     :
    - https://gmic.eu/files/source/gmic_2.2.2.tar.gz : cce23f791c7c9f4a09ef00c4b696b29fe2ee55725cc03e9273c3da52bd900e7f
license    :
    - CECILL-2.1
    - CECILL-C
component  : 
    - multimedia.graphics
    - gimp : multimedia.graphics
summary    : 
    - GREYC's Magic for Image Computing
    - gimp : G'MIC plugin for GIMP
description: |
    G'MIC is a full-featured open-source framework for image processing, distributed under the CeCILL free software licenses (LGPL-like and/or GPL-compatible). It provides several different user interfaces to convert / manipulate / filter / visualize generic image datasets, ranging from 1d scalar signals to 3d+t sequences of multi-spectral volumetric images, hence including 2d color images.
patterns   :
    - gimp : /usr/lib64/gimp
builddeps  :
    - pkgconfig(GraphicsMagick)
    - pkgconfig(OpenEXR)
    - pkgconfig(Qt5Core)
    - pkgconfig(fftw3)
    - pkgconfig(gimp-2.0)
    - pkgconfig(gtk+-2.0)
    - pkgconfig(libcurl)
    - pkgconfig(libpng)
    - pkgconfig(libtiff-4)
    - pkgconfig(libturbojpeg)
    - pkgconfig(opencv)
    - pkgconfig(xext)
    - hdf5-devel
setup      : |
    %patch -p1 < $pkgfiles/0001-Fix-bash-completion-path.patch
build      : |
    # Temporary remove gimp plugin because I am an ass. I'll get this sorted out asap.
    pushd src
        make cli lib krita_qt gmic_qt libc zart
    popd
    #make -C src all -j1
install    : |
    %make_install -C src
